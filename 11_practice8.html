<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>캔버스에 마우스 드래깅</title>
  <script>
  var canvas, context;
  function init(){
    canvas = document.getElementById("myCanvas");
    context = canvas.getContext("2d");
    context.lineWidth = document.getElementById("widthInput").value;
  	context.strokeStyle = document.getElementById("colorInput").value;
    canvas.addEventListener("mousemove",function(e){move(e)},false);
    canvas.addEventListener("mousedown",function(e){down(e)},false);
    canvas.addEventListener("mouseup",function(e){up(e)},false);
    canvas.addEventListener("mouseout",function(e){out(e)},false);
  }
  var startX = 0, startY = 0;    // 드래깅동안, 처음 마우스가 눌러진 좌표
  var dragging = false;
  function draw(curX, curY){
    context.beginPath();
    context.moveTo(startX, startY);
    context.lineTo(curX, curY);
    context.stroke();
  }
  function down(e){
    startX = e.offsetX; startY = e.offsetY; dragging = true;
  }
  function up(e){dragging = false;}
  function move(e){
    if(!dragging) return;    // 마우스가 눌러지지 않았으면 리턴
    var curX = e.offsetX, curY = e.offsetY;
    draw(curX, curY);
    startX = curX; startY = curY;
  }
  function out(e){dragging = false;}
  </script>
</head>
<body onload = "init()">
<h3>마우스를 누른 채 드래깅하여 그림을 그려 보세요</h3>
<hr>
<canvas id="myCanvas" style="background-color:aliceblue" width="800" height="600"></canvas><br>
선굵기 :<input type="number" id="widthInput" value="2"
	min="0" max="20" step="1" onchange="context.lineWidth=this.value">
선 색 : <input type="color" id="colorInput" value="#00ff00" onchange="context.strokeStyle=this.value">
</body>
</html>
